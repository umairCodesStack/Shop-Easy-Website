@model Ecommere_Website.Models.Product
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/Home.css" />
    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    

    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
    <style>
       
        .image-section {
            background: #f4f4f4; 
            border: 2px solid #ccc; 
            border-radius: 15px;
            padding: 20px;
            position: relative;
        }

        
        .product-name {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        /* Carousel Styling */
        .carousel {
            width: 90%;
            margin: auto;
        }

        .carousel-inner {
            border-radius: 15px;
            overflow: hidden; 
        }

        .carousel-item img {
            width: 100%;
            height: 300px; 
            object-fit: cover; 
            border-radius: 15px;
        }

        
        .btn-custom {
            background-color: #ff9900;
            color: white;
            border-radius: 50px;
            padding: 12px 22px;
            border: none;
        }

            .btn-custom:hover {
                background-color: #e68000;
            }

        .btn-outline-custom {
            border: 2px solid #ff9900;
            color: #ff9900;
            border-radius: 50px;
            padding: 12px 22px;
        }

            .btn-outline-custom:hover {
                background-color: #ff9900;
                color: white;
            }

        
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            filter: invert(1); 
        }

        
        .icon-btn {
            margin-top: -15px;
            display: flex;
            flex-wrap: nowrap; /* Prevents wrapping */
            justify-content: center; /* Aligns icons from left to right */
            align-items: center;
            gap: 5px; /* Adds space between icons */
            padding: 0px 0;
        }

        .icon-btn a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: all 0.3s ease-in-out;
            text-decoration: none;
            color: #333;
            font-size: 20px;
        }

            /* Hover Effect: Turn Icons #FF6600 */
            .icon-btn a:hover i {
                color: #FF6600;
            }

    

        .review-container {
            max-height: 450px; 
            overflow-y: auto;
            padding-right: 10px;
        }

            
            .review-container::-webkit-scrollbar {
                width: 8px;
            }

            .review-container::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }

            .review-container::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 10px;
            }

                .review-container::-webkit-scrollbar-thumb:hover {
                    background: #555;
                }
        
    </style>


    
</head>
<body>
    <partial name="_navBar" />

    <div class="container-fluid py-5">
        <div class="row">
            <!-- Left Side: Image Section -->
            <div class="col-md-7">
                <div class="image-section p-4 rounded shadow-sm">
                    <div class="product-name text-start fw-bold" style="color:#FF6600; font-size: 1.2rem;">
                        @Model.Name  Beautiful Product of Very High Quality
                    </div>
                    <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner" style="background-color:#a1a4a3;">
                            @if (Model.ImageUrls != null && Model.ImageUrls.Any())
                            {
                                var firstImage = true; // Track the first image
                                @foreach (var image in Model.ImageUrls)
                                {
                                    <div class="carousel-item @(firstImage ? "active" : "")">
                                        <img src="@image.ImageUrl" class="d-block w-100 rounded" alt="Product Image" style="height: 500px; object-fit: contain;">
                                        
                                    </div>
                                    firstImage = false; // Set firstImage to false after the first iteration
                                }
                            }
                            else
                            {
                                <!-- Placeholder if no images exist -->
                                <div class="carousel-item active">
                                    <img src="~/Images/placeholder.png" class="d-block w-100 rounded" alt="No Image Available">
                                </div>
                            }
                        </div>

                        <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>

                </div>

                <!-- Reviews Section  -->
                <div class="mt-5">
                    <h3 class="fw-bold" style="color:#FF6600;">Customer Reviews</h3>
                    
                    <div class="review-container list-group">
                        @for (int i = 0; i < 10; i++)
                        {
                            <!-- Review 1 -->
                            <div class="list-group-item p-3 border rounded mb-3 shadow-sm">
                                <div class="d-flex align-items-center">
                                    <i class="fa-solid fa-user-circle fs-4 text-secondary me-2"></i>
                                    <h5 class="fw-bold mb-0">John Doe</h5>
                                </div>
                                <div class="text-warning mt-1">
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-regular fa-star"></i>
                                </div>
                                <p class="mt-2 text-secondary">Amazing product! The quality is top-notch and fits perfectly.</p>
                            </div>
                        }
                    </div>
                </div>
            </div>

            <!-- Right Side: Product Details -->
            <div class="col-md-5 px-5">
                <h2 class="fw-bold" style="color:#FF6600;">@Model.Name</h2>
                <p class="text-muted">Category: @Model.Category</p>
                <h4 class="fw-bold text-danger">$@Model.Price</h4>

                <p class="text-secondary">
                    @Model.Description
                </p>

                <!-- Star Rating -->
                <div class="rating" data-rating="@Model.Rating">
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                </div>


                <!-- Additional Description -->
                <p class="text-secondary">Good Quality Product with good ratings</p>

                <!-- Icons Section -->
                <div class="d-flex gap-4 mb-3 icon-btn">
                    <a href="#" title="Like" class="like-icon" onclick="toggleLike(event)">
                        <i class="far fa-heart"></i>
                    </a>
                    <a href="#" title="Add to Cart" class="text-dark fs-5" onclick="event.preventDefault();">
                        <i class="fa-solid fa-cart-shopping"></i>
                    </a>
                    <a href="#" title="Share" class="text-dark fs-5" onclick="event.preventDefault();">
                        <i class="fa-regular fa-paper-plane"></i>
                    </a>
                </div>

                <!-- Buttons -->
                <div class="d-flex gap-3">
                    <a href="#" class="btn btn-custom w-50">Buy Now</a>
                    <a href="#" class="btn btn-outline-custom w-50">Add to Cart</a>
                </div>

                <div class="mt-3">
                    <a href="#" class="btn btn-custom d-flex align-items-center justify-content-center w-100">
                        <i class="fa-solid fa-comment-dots me-2"></i> Chat with Seller
                    </a>
                </div>
            </div>
        </div>
    </div>
    <h3 class="text-center mb-2" style="color:#FF6600;">Other Products From Same Supplier</h3>
    <!-- Full-Width Container -->
    <div class="container-fluid px-4 mb-2">
        <div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 g-4">
            @for (int i = 0; i < 12; i++) 
            {
                <div class="col">
                    <a href="/Home/Product" class="card-link" style="text-decoration: none; color: inherit;">
                        <div class="card h-100">
                            <img src="~/Images/product1_3.png" class="card-img-top w-100" alt="Product Image">
                            <div class="card-body">
                                <h5 class="card-title">Product Name</h5>
                                <p class="card-text">$99.99</p>
                                <p class="card-text">Good Quality Product with good ratings</p>

                                <!-- Star Rating -->
                                <div class="rating text-warning">
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-regular fa-star"></i> <!-- Unfilled Star -->
                                </div>

                                <div class="icon-btns mt-2">
                                    <a href="#" title="Like" class="like-icon" onclick="toggleLike(event)">
                                        <i class="far fa-heart"></i>
                                    </a>
                                    <a href="#" title="Share" class="text-dark fs-5" onclick="event.preventDefault();">
                                        <i class="fa-regular fa-paper-plane"></i>
                                    </a>
                                    <a href="#" title="Add to Cart" class="cart-icon" onclick="event.preventDefault();">
                                        <i class="fas fa-shopping-cart"></i>
                                    </a>
                                    <a href="#" title="Chat" class="chat-icon" onclick="event.preventDefault();">
                                        <i class="fas fa-comment-dots"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            }
        </div>
    </div>


    <partial name="_footer" />

    <!-- JavaScript for Heart Like Button -->
    <script>
        function toggleLike(event) {
            event.preventDefault();
            let icon = event.currentTarget.querySelector("i");

            // Toggle between outlined and filled heart
            if (icon.classList.contains("far")) {
                icon.classList.remove("far");
                icon.classList.add("fas");
                icon.style.color = "red"; // Make it red
            } else {
                icon.classList.remove("fas");
                icon.classList.add("far");
                icon.style.color = ""; // Reset color
            }
        }
        document.addEventListener("DOMContentLoaded", function() {
        document.querySelectorAll(".rating").forEach(ratingElement => {
                        let ratingValue = parseInt(ratingElement.getAttribute("data-rating"));
                        let stars = ratingElement.querySelectorAll("i");

                        stars.forEach((star, index) => {
                            if (index < ratingValue) {
                                star.classList.remove("far");
                                star.classList.add("fas", "text-warning");
                            }
                        });
                    });
                });
    </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
